# -*- coding: utf-8 -*-

###############################################
# 基础配置
###############################################

# 场景列表（英文版，如果你的系统用中文可切换）
SCENE_LIST = [
    "地图导航",
    "打车服务",
    "即时通信聊天服务",
    "电话通话",
    "网络社区",
    "网络支付",
    "网上购物",
    "餐饮外卖",
    "邮寄服务",
    "交通票务",
    "婚恋相亲",
    "求职招聘",
    "网络借贷",
    "房屋租售",
    "汽车交易",
    "医疗健康",
    "旅游服务",
    "酒店预定",
    "网络游戏",
    "学习教育",
    "维修装修",
    "女性健康",
    "汽车单车租赁",
    "投资理财",
    "手机银行",
    "网络邮箱",
    "远程会议",
    "网络直播",
    "在线影音",
    "新闻资讯",
    "运动健身",
    "浏览器",
    "拍摄美化",
    "文件管理",
    "用户登录",
    "个人信息",
    "实用工具"
]

# 要输出的 Top-K 值
TOP_K_LIST = [1, 3, 5, 7]

###############################################
# 权限与场景关联提示
###############################################

PERMISSION_HINTS = {
    # 常见权限 → 最可能的场景类别
    "ACCESS_FINE_LOCATION": ["地图导航", "打车服务", "汽车单车租赁"],
    "ACCESS_COARSE_LOCATION": ["地图导航", "打车服务", "汽车单车租赁"],

    "CAMERA": ["拍摄美化", "在线直播", "即时通信聊天服务"],
    "RECORD_AUDIO": ["拍摄美化", "即时通信聊天服务", "网络直播"],

    "READ_EXTERNAL_STORAGE": ["文件管理", "拍摄美化"],
    "WRITE_EXTERNAL_STORAGE": ["文件管理", "拍摄美化"],

    "READ_PHONE_STATE": ["电话通话", "用户登录"],
    "CALL_PHONE": ["电话通话"],

    "READ_CONTACTS": ["即时通信聊天服务"],
    "WRITE_CONTACTS": ["即时通信聊天服务"],

    "READ_SMS": ["用户登录", "即时通信聊天服务"],
    "SEND_SMS": ["用户登录", "即时通信聊天服务"],

    # 如果权限极不典型 → 视为实用工具
    "DEFAULT": ["实用工具"]
}

###########################################################
# 场景关键词（辅助稳定推理）
###########################################################

SCENE_KEYWORDS = {
    "拍摄美化": ["相机", "拍照", "摄像", "滤镜", "自拍"],
    "文件管理": ["存储", "文件", "本地图片", "读写权限"],
    "在线影音": ["视频", "播放", "电影", "电视剧"],
    "网络直播": ["直播", "主播"],
    "即时通信聊天服务": ["聊天", "消息", "沟通"],
    "用户登录": ["账号", "验证码", "登录"],
    "地图导航": ["定位", "导航", "地图"],
    "实用工具": ["清理", "加速", "工具", "WiFi", "检测", "优化"],
}

###########################################################
# 提示词模板（V4，强约束、结构化）
###########################################################

PROMPT_TEMPLATE = """
你是一名专业的安卓应用场景识别专家。

请根据以下输入内容，判断当前 UI 所处的应用使用场景。

你将获得：

1. before 页面文本
2. after 页面文本
3. granting 页面文本（可能为空）
4. 本次操作申请的 Android 权限（predicted_permissions）
5. 各权限常见对应场景（permission hints）
6. 场景关键词（scene keywords）

请严格遵守以下规则：
- 只能从提供的场景列表中选择
- 不要发明不存在的场景
- 如果页面内容很弱或无法识别，请输出 "实用工具"
- 充分利用权限提示（如读写存储 → 文件管理；相机 → 拍摄美化；定位 → 地图导航/打车）

请输出：
- top1 最可能场景
- top3 / top5 / top7 的候选场景（按概率从高到低）

格式（必须为 JSON）：
{
  "top1": "...",
  "top3": [...],
  "top5": [...],
  "top7": [...]
}
"""